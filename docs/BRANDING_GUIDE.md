# Custom Branding Configuration Guide

This guide explains how to customize Meowstik's branding to create your own personalized AI assistant identity (e.g., "Catpilot").

## Overview

Meowstik's custom branding system allows you to personalize your AI assistant with:
- Custom agent name and display name
- Custom avatar image
- Brand color scheme
- GitHub commit/PR signatures
- Email signatures
- Canonical domain for professional branding

## Quick Start - Configuring Catpilot

### Via Settings UI

1. Navigate to **Settings** from the main menu
2. Scroll to the **Custom Branding** section
3. Configure the following fields:

```
Agent Name: Catpilot
Display Name: Catpilot Pro
Canonical Domain: catpilot.pro
Avatar URL: https://your-domain.com/catpilot-avatar.png
Brand Color: #FF6B35 (or your preferred color)
GitHub Signature: üê± Automated by Catpilot
Email Signature: Best regards,
Catpilot - Your AI Assistant
catpilot.pro
```

4. Click outside each field to auto-save
5. Your changes are applied immediately!

### Via API

You can also configure branding programmatically:

```bash
curl -X PUT http://localhost:5000/api/branding \
  -H "Content-Type: application/json" \
  -d '{
    "agentName": "Catpilot",
    "displayName": "Catpilot Pro",
    "canonicalDomain": "catpilot.pro",
    "avatarUrl": "https://your-domain.com/catpilot-avatar.png",
    "brandColor": "#FF6B35",
    "githubSignature": "üê± Automated by Catpilot",
    "emailSignature": "Best regards,\nCatpilot - Your AI Assistant\ncatpilot.pro"
  }'
```

## Branding Fields

### Agent Name
- **Purpose**: The primary identifier for your AI assistant
- **Used in**: System prompts, API responses, internal references
- **Example**: `Catpilot`, `MyAI`, `AssistantPro`
- **Default**: `Meowstik`

### Display Name
- **Purpose**: Full name shown in UI and communications
- **Used in**: Chat interface, emails, documents
- **Example**: `Catpilot Pro`, `My AI Assistant`, `Professional Bot`
- **Default**: `Meowstik AI`

### Canonical Domain
- **Purpose**: Professional domain for branding
- **Used in**: Email signatures, external communications, API references
- **Example**: `catpilot.pro`, `myai.com`, `assistant.example.com`
- **Default**: None (optional)

### Avatar URL
- **Purpose**: Custom avatar/logo image
- **Used in**: Chat interface, profile display
- **Format**: Must be a publicly accessible URL (HTTPS recommended)
- **Example**: `https://catpilot.pro/avatar.png`
- **Default**: None (optional, uses system default)

### Brand Color
- **Purpose**: Primary color for UI theming
- **Used in**: Highlights, accents, branding elements
- **Format**: Hex color code (e.g., `#FF6B35`)
- **Default**: `#4285f4` (Google Blue)

### GitHub Signature
- **Purpose**: Signature added to GitHub commits and PRs
- **Used in**: Evolution engine PRs, automated commits
- **Example**: `üê± Automated by Catpilot`, `[Bot] Generated by MyAI`
- **Default**: None (uses system default)

### Email Signature
- **Purpose**: Signature added to outgoing emails
- **Used in**: Gmail integration, email automation
- **Format**: Plain text or simple formatting
- **Example**:
  ```
  Best regards,
  Catpilot - Your AI Assistant
  catpilot.pro
  ```
- **Default**: None (optional)

## Where Branding is Applied

### 1. Chat Interface
- Agent name appears in chat messages
- Display name in header/title
- Brand color for UI elements
- Avatar image in message bubbles

### 2. System Prompts
- Agent name injected into personality prompts
- Affects how the AI refers to itself
- Example: "I am Catpilot, your AI assistant"

### 3. GitHub Operations
- Commit messages include GitHub signature
- PR descriptions use display name
- Agent identity attribution in code changes

### 4. Email Communications
- Email signature appended to sent messages
- Display name in From field (when supported)
- Domain branding in footers

### 5. API Responses
- Agent name in metadata
- Display name in user-facing responses

## Resetting Branding

To reset all branding to defaults:

1. **Via UI**: Click "Reset to Defaults" button in Settings
2. **Via API**: 
   ```bash
   curl -X DELETE http://localhost:5000/api/branding
   ```

This will revert all settings to:
- Agent Name: `Meowstik`
- Display Name: `Meowstik AI`
- All other fields: cleared/default values

## Database Schema

Branding configuration is stored in the `user_branding` table:

```sql
CREATE TABLE user_branding (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL UNIQUE,
  agent_name VARCHAR NOT NULL DEFAULT 'Meowstik',
  display_name VARCHAR NOT NULL DEFAULT 'Meowstik AI',
  avatar_url TEXT,
  brand_color VARCHAR DEFAULT '#4285f4',
  github_signature TEXT,
  email_signature TEXT,
  canonical_domain VARCHAR,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

## Environment Variables

For system-wide default branding (optional):

```env
# Default branding for new users (optional)
DEFAULT_AGENT_NAME=Meowstik
DEFAULT_DISPLAY_NAME=Meowstik AI
DEFAULT_BRAND_COLOR=#4285f4
DEFAULT_CANONICAL_DOMAIN=
```

## API Endpoints

### GET /api/branding
Retrieve current user's branding configuration.

**Response:**
```json
{
  "branding": {
    "agentName": "Catpilot",
    "displayName": "Catpilot Pro",
    "avatarUrl": "https://catpilot.pro/avatar.png",
    "brandColor": "#FF6B35",
    "githubSignature": "üê± Automated by Catpilot",
    "emailSignature": "Best regards,\nCatpilot",
    "canonicalDomain": "catpilot.pro"
  }
}
```

### PUT /api/branding
Update branding configuration (partial updates supported).

**Request:**
```json
{
  "agentName": "Catpilot",
  "displayName": "Catpilot Pro"
}
```

**Response:**
```json
{
  "branding": { /* updated branding */ },
  "message": "Branding settings updated successfully"
}
```

### DELETE /api/branding
Reset branding to defaults.

**Response:**
```json
{
  "branding": { /* default branding */ },
  "message": "Branding reset to defaults"
}
```

## Best Practices

1. **Choose a memorable agent name**: Short, unique, and easy to say
2. **Professional display name**: Include context (e.g., "Pro", "Assistant")
3. **Consistent branding**: Use the same name across all fields
4. **Clear signatures**: Include contact/branding info in signatures
5. **High-quality avatar**: Use a clear, recognizable image (PNG/SVG recommended)
6. **Accessible colors**: Ensure brand color has good contrast for readability

## Troubleshooting

### Branding not appearing
- Check that you're logged in (branding is per-user)
- Verify database migration completed: `npm run db:push`
- Clear browser cache and reload
- Check API response: `curl http://localhost:5000/api/branding`

### GitHub signatures not working
- Ensure GitHub integration is configured
- Check evolution engine settings
- Verify `githubSignature` field is set

### Email signatures not showing
- Verify Gmail integration is connected
- Check email composition in Gmail routes
- Ensure `emailSignature` field is set

## Examples

### Example 1: Professional Setup
```json
{
  "agentName": "AssistantPro",
  "displayName": "Professional AI Assistant",
  "canonicalDomain": "ai.yourcompany.com",
  "brandColor": "#1E40AF",
  "githubSignature": "ü§ñ Generated by Professional AI Assistant",
  "emailSignature": "Best regards,\nProfessional AI Assistant\nai.yourcompany.com"
}
```

### Example 2: Personal Setup (Catpilot)
```json
{
  "agentName": "Catpilot",
  "displayName": "Catpilot",
  "canonicalDomain": "catpilot.pro",
  "avatarUrl": "https://catpilot.pro/cat-avatar.png",
  "brandColor": "#FF6B35",
  "githubSignature": "üê± Automated by Catpilot",
  "emailSignature": "Meow! üê±\nCatpilot\ncatpilot.pro"
}
```

### Example 3: Minimal Setup
```json
{
  "agentName": "Bolt",
  "displayName": "Bolt AI"
}
```

## Next Steps

After configuring your branding:

1. **Test in chat**: Start a new conversation and verify agent name appears correctly
2. **Check GitHub**: Create a test PR to see your custom signature
3. **Test emails**: Send a test email to verify signature
4. **Customize prompts**: Edit `/prompts/personality.md` to match your agent's persona
5. **Share your setup**: Document your branding for team members

## Support

For issues or questions:
- Check the [API documentation](./API.md)
- Review the [System Overview](./system-overview.md)
- File an issue on GitHub

---

**Last Updated**: January 2026
**Version**: 1.0
