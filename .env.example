# Meowstik Environment Variables
# Copy this file to .env and fill in your values
#
# For local development:
# 1. Copy this file: cp .env.example .env
# 2. Fill in your actual credentials (never commit .env to git)
# 3. For Twilio SMS testing locally, you'll need ngrok (see Twilio section below)

# Server Configuration
PORT=5000
NODE_ENV=development

# Session Secret (for encrypting session cookies)
# Generate a strong random string for production
# Example: openssl rand -base64 32
SESSION_SECRET=change-this-to-a-random-string-in-production

# Home Dev Mode (bypasses authentication for local development)
# Set to "true" to enable auto-login as developer user
# WARNING: Only use this on your local machine, NEVER in production
HOME_DEV_MODE=false

# Home Dev Email (optional, for customizing the developer user email)
# Only used when HOME_DEV_MODE=true
HOME_DEV_EMAIL=jason@oceanshorestech.com

# Database (PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/meowstik

# Google Cloud Project (for Cloud SQL provisioning)
GOOGLE_CLOUD_PROJECT=your-gcp-project-id

# Google OAuth2 (for user authentication)
# Get these from: https://console.cloud.google.com/apis/credentials
# 1. Create a new OAuth 2.0 Client ID
# 2. Add authorized redirect URI: http://localhost:5000/api/auth/google/callback
# 3. For production, add your production domain redirect URI with HTTPS
#    Example: https://yourdomain.com/api/auth/google/callback
# NOTE: Production MUST use HTTPS for security
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:5000/api/auth/google/callback

# Google Cloud Service Account (for TTS and other Google Cloud services)
# Point this to your service account JSON key file
# Example: GOOGLE_APPLICATION_CREDENTIALS=./path/to/service-account-key.json
GOOGLE_APPLICATION_CREDENTIALS=

# TTS Provider Configuration
# Choose TTS provider: "google" (default) or "elevenlabs"
TTS_PROVIDER=google

# ElevenLabs API (for high-quality TTS)
# Get your API key from: https://elevenlabs.io/
ELEVENLABS_API_KEY=your_elevenlabs_api_key

# Gemini API
GEMINI_API_KEY=your_gemini_api_key

# Vector Store Configuration (for RAG system)
# Backend selection: pgvector (PostgreSQL), vertex (Google Cloud), memory (in-memory), pinecone
# Auto-detected based on available credentials if not set
# - If DATABASE_URL is set: defaults to pgvector
# - If GOOGLE_CLOUD_PROJECT is set: defaults to vertex
# - Otherwise: defaults to memory (for testing/development)
VECTOR_STORE_BACKEND=pgvector
VECTOR_DIMENSION=768
VECTOR_METRIC=cosine

# Optional: GitHub Integration
GITHUB_TOKEN=your_github_token

# Optional: Twilio (for SMS Integration)
# Get these from: https://console.twilio.com/
# Required for SMS sending/receiving and webhook signature validation
# 
# To find your credentials:
# 1. Log in to https://console.twilio.com/
# 2. Go to Account > Account Info
# 3. Copy your Account SID and Auth Token
# 4. Go to Phone Numbers > Manage > Active Numbers
# 5. Copy your phone number in E.164 format (e.g., +15551234567)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+15551234567

# Twilio SMS Webhook Configuration
# CRITICAL: Your phone number in E.164 format for owner authentication
# This allows the AI to recognize you and provide full authenticated access
# E.164 format: + followed by country code and number (no spaces or dashes)
# Examples: +15551234567 (US), +447700900123 (UK), +61412345678 (AU)
# 
# For local development testing:
# - Set NODE_ENV=development to bypass webhook signature validation warnings
# - Use ngrok to expose your local server: ngrok http 5000
# - Configure the ngrok HTTPS URL in Twilio Console webhook settings
# - Webhook URL format: https://your-ngrok-url.ngrok.io/api/twilio/webhook/sms
OWNER_PHONE_NUMBER=+15551234567

# Optional: Your user ID from the users table
# Links SMS interactions to your main account profile for authenticated context
# To find your user ID, connect to your database and run this query:
#   psql $DATABASE_URL -c "SELECT id FROM users WHERE email='your-email@example.com';"
# Or use any PostgreSQL client (pgAdmin, DBeaver, etc.)
# If you don't have a user account yet, leave this empty and one will be created
OWNER_USER_ID=your_user_id_from_database

# Optional: Browserbase (for web automation)
BROWSERBASE_API_KEY=your_browserbase_api_key
BROWSERBASE_PROJECT_ID=your_browserbase_project_id

# Optional: Self-Hosted Browser (Custom Browserless Infrastructure)
# Cost-optimized alternative to Browserbase (~96% cheaper for text extraction)
# Deploy on Google Cloud Run: see BROWSERLESS_IMPLEMENTATION_PROPOSAL.md
CUSTOM_BROWSER_WS_ENDPOINT=wss://meowstik-browser-xyz.run.app
CUSTOM_BROWSER_AUTH_TOKEN=meowstik-secure-token-123

# Optional: Residential Proxy (for stealth scraping)
# Providers: BrightData, Smartproxy, Oxylabs
# Format: http://user:pass@proxy-host:port or just the host:port
RESIDENTIAL_PROXY_URL=http://gate.smartproxy.com:7000
RESIDENTIAL_PROXY_USER=your_proxy_username
RESIDENTIAL_PROXY_PASSWORD=your_proxy_password
